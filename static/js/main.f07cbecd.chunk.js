(window["webpackJsonpreact-js"]=window["webpackJsonpreact-js"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(3),o=n.n(i),l=(n(14),n(4)),c=n(5),s=n(8),p=n(7),u=(n(15),n(1)),h=n.n(u),m=n(6),d=n.n(m),f={fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity","circle-stroke-opacity"],symbol:["icon-opacity","text-opacity"],raster:["raster-opacity"],"fill-extrusion":["fill-extrusion-opacity"]},y={left:"lefty",center:"centered",right:"righty"},g=function(e){var t=-1!==e.indexOf("?");return{url:e+(t?"&pluginName=journalismScrollytelling":"?pluginName=journalismScrollytelling")}};function E(e){var t=e.id,n=e.theme,a=e.title,i=e.image,o=e.description,l=e.currentChapterID,c=e.bullets,s=t===l?"step active":"step";return r.a.createElement("div",{id:t,className:s},r.a.createElement("div",{className:n},a&&r.a.createElement("h3",{className:"title"},a),i&&r.a.createElement("img",{src:i,alt:a}),o&&r.a.createElement("p",null,o),c&&r.a.createElement("ul",null,r.a.createElement("li",null,c),r.a.createElement("li",null,c),r.a.createElement("li",null,c))))}var v=function(e){Object(s.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={currentChapter:e.chapters[0]},a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.chapters[0].location;h.a.accessToken=e.accessToken;var n=new h.a.Map({container:this.mapContainer,style:e.style,center:t.center,zoom:t.zoom,pitch:t.pitch,bearing:t.bearing,transformRequest:g}),a=new h.a.Marker;function r(e){(function(e){var t=n.getLayer(e).type;return console.log("layer type",t),f[t]})(e.layer).forEach((function(t){n.setPaintProperty(e.layer,t,e.opacity)}))}e.showMarkers&&a.setLngLat(t.center).addTo(n);var i=this.setState.bind(this),o=d()();n.on("load",(function(){o.setup({step:".step",offset:.5,progress:!0}).onStepEnter((function(t){var o=e.chapters.find((function(e){return e.id===t.element.id}));i({currentChapter:o}),n.flyTo(o.location),e.showMarkers&&a.setLngLat(o.location.center),o.onChapterEnter.length>0&&o.onChapterEnter.forEach(r)})).onStepExit((function(t){var n=e.chapters.find((function(e){return e.id===t.element.id}));n.onChapterExit.length>0&&n.onChapterExit.forEach(r)}))})),window.addEventListener("resize",o.resize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.theme,a=this.state.currentChapter.id;return r.a.createElement("div",null,r.a.createElement("div",{ref:function(t){return e.mapContainer=t},className:"absolute top right left bottom"}),r.a.createElement("div",{id:"story"},t.title&&r.a.createElement("div",{id:"header",className:n},r.a.createElement("h1",null,t.title),t.subtitle&&r.a.createElement("h2",null,t.subtitle),t.byline&&r.a.createElement("p",null,t.byline)),r.a.createElement("div",{id:"features",className:y[t.alignment]},t.chapters.map((function(e){return r.a.createElement(E,Object.assign({key:e.id,theme:n},e,{currentChapterID:a}))}))),t.footer&&r.a.createElement("div",{id:"footer",className:n},r.a.createElement("p",null,t.footer))))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var b={style:"mapbox://styles/imfeld/cke0ds9om1bky19oc8pg2yikq",accessToken:"pk.eyJ1IjoiaW1mZWxkIiwiYSI6ImNrZDk1Y2lmcDBzdGMycmx2NWhubnFjd2wifQ.LeVJDbIpVqOhpYeZwJk6mg",showMarkers:!1,theme:"light",alignment:"left",title:"The Title Text of this Story",subtitle:"A descriptive and interesting subtitle to draw in the reader",byline:"By a Digital Storyteller",footer:"Source: source citations, etc.",chapters:[{id:"slug-style-id",title:"The features to be evaluated",image:"./path/to/image/source.png",bullets:"ss",description:"dsfsdf",location:{center:[-122.445327,37.753683],zoom:13.5,pitch:60,bearing:0},onChapterEnter:[{layer:"shapefiles-4haqhi",opacity:1}],onChapterExit:[{layer:"shapefiles-4haqhi",opacity:0}]},{id:"other-identifier",title:"Second Title",image:"./path/to/image/source.png",description:"Copy these sections to add to your story.",location:{center:[-77.020636,38.8869],zoom:13.5,pitch:60,bearing:-43.2},onChapterEnter:[],onChapterExit:[]}]};o.a.render(r.a.createElement(v,b),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.f07cbecd.chunk.js.map